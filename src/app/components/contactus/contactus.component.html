<div class="website-container">
    <!-- Top Info Bar -->
    <div class="top-bar d-none d-lg-block">
        <div class="top-bar-content">
            <span>Minimum order £35</span>
            <span class="separator">|</span>
            <span>Free Delivery for order over £80</span>
            <span class="separator">|</span>
            <span>£2.99 surcharge for frozen products packing</span>
        </div>
    </div>

    <!-- Header -->
    <!-- <header class="header">
        <div class="header-content">
            <div class="logo d-md-block d-none">
                <img src="../../../assets/logo.png" alt="Maitreya Traders Limited" class="logo-image">
            </div>

            <nav class="nav">
                <a class="d-block d-md-none">
                    <img src="../../../assets/mlogo.png" alt="Maitreya Traders Limited" width="70px">
                </a>
                <a href="#" class="nav-item" [class.active]="activeSection === 'home'"
                    (click)="setActive('home')">Home</a>

                <a href="javascript:void(0)" class="nav-item" [class.active]="activeSection === 'about'"
                    (click)="navigatetoabout()">
                    About
                </a>
                <div class="nav-item-wrapper">
                    <a href="#" class="nav-item" [class.active]="activeSection === 'products'"
                        (click)="toggleProductsDropdown($event)">
                        Products <span class="dropdown-arrow" [class.rotated]="showProductsDropdown">▼</span>
                    </a>
                </div>

                <div style="position: absolute; color : red;top:70%; left:50%; border: 1px solid #333; z-index: 9999;
                    border-radius: 8px; background-color: #1a1a1a;  border: 1px solid #333;  border-radius: 8px;  min-width: 250px;"
                    *ngIf="showProductsDropdown">
                    <a *ngFor="let category of productCategories" class="dropdown-item"
                        (click)="navigateToCategory(category)">
                        {{ category.name }}
                    </a>
                </div>

                <a class="nav-item" [class.active]="activeSection === 'contact'" (click)="scrollToContact()">
                    Contact Us
                </a>

                <a href="javascript:void(0)" class="nav-item" [class.active]="activeSection === 'order'"
                    (click)="navigateorders()" *ngIf="isLoggeIn">
                    My Orders
                </a>


            </nav>

            <div class="header-actions">
                <div class="search-wrapper" (click)="$event.stopPropagation()">
                    <img src="../../../assets/Icon-3.png" class="icon search-trigger" [class.hide]="showSearch"
                        (click)="toggleSearch(); $event.stopPropagation()" />
                    <div class="search-inline" [class.show]="showSearch" (click)="$event.stopPropagation()">
                        <img src="../../../assets/Icon-3.png" class="icon small" />
                        <input type="text" [(ngModel)]="searchText" placeholder="Search products"
                            (keydown.enter)="GotoSearch(); $event.preventDefault(); $event.stopPropagation()"
                            (click)="$event.stopPropagation()" />


                        <img src="../../../assets/cancel.png" class="icon small close-icon"
                            (click)="closeSearch(); $event.stopPropagation()" width="10" />
                    </div>
                    <div class="search-dropdown" *ngIf="displaylist">
                        <div *ngIf="AllSearchItems.length > 0">
                            <div class="panel-header">
                                <span style="padding: 10px;">Products</span>
                                <div></div>
                            </div>
                            <div class="search-results" *ngFor="let n of AllSearchItems">
                                <div class="image-wrap">
                                    <img *ngIf="n.productImagesList?.length" [src]="baseUrl + n.productImagesList[0]"
                                        alt="product" (click)="ProductView(n)" />
                                </div>
                                <div class="title" (click)="ProductView(n)">{{ n.productName }}</div>
                            </div>
                        </div>
                        <div *ngIf="AllSearchItems.length === 0">
                            <div class="search-results">
                                <div class="title">No results</div>
                            </div>
                        </div>

                    </div>
                </div>
                <button class="icon-btn" (click)="cartpage($event)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span class="cart-badge" *ngIf="cartCount > 0" (click)="cartpage($event)">{{ cartCount }}</span>
                </button>

            </div>
        </div>
    </header> -->


    <header class="header">
        <div class="header-content">

            <!-- LEFT: Hamburger -->
            <button class="menu-btn d-md-none" (click)="toggleMobileMenu()">
                ☰
            </button>

            <!-- Logo -->
            <div class="logo" style="margin-top: 20px;">
                <img src="../../../assets/logo.png" alt="Maitreya Traders Limited" class="logo-image d-none d-md-block">
                <!-- <img src="../../../assets/mlogo.png" alt="Maitreya Traders Limited" class="logo-image d-block d-md-none"> -->
            </div>

            <!-- DESKTOP NAV -->
            <nav class="nav d-none d-md-flex">
                <a routerLink="/home" class="nav-item" [class.active]="activeSection === 'home'"
                    (click)="setActive('home')">Home</a>

                <a href="javascript:void(0)" class="nav-item" [class.active]="activeSection === 'about'"
                    (click)="navigatetoabout()">About</a>

                <div class="nav-item-wrapper">
                    <a href="javascript:void(0)" class="nav-item" [class.active]="activeSection === 'products'"
                        (click)="toggleProductsDropdown($event)">
                        Products <span class="dropdown-arrow" [class.rotated]="showProductsDropdown">▼</span>
                    </a>

                    <div class="products-dropdown" *ngIf="showProductsDropdown">
                        <a *ngFor="let category of productCategories" class="dropdown-item"
                            (click)="navigateToCategory(category)">
                            {{ category.name }}
                        </a>
                    </div>
                </div>

                <a class="nav-item" [class.active]="activeSection === 'contact'" (click)="navigatetocontact()">Contact
                    Us</a>

                <a href="javascript:void(0)" class="nav-item" [class.active]="activeSection === 'order'"
                    (click)="navigateorders()" *ngIf="isLoggeIn">
                    My Orders
                </a>
            </nav>

            <!-- RIGHT: Search + Cart -->
            <div class="header-actions">
                <!-- Search -->
                <div class="search-wrapper" (click)="$event.stopPropagation()">
                    <img src="../../../assets/Icon-3.png" class="icon search-trigger"
                        (click)="toggleSearch(); $event.stopPropagation()" />

                    <div class="search-inline" [class.show]="showSearch" (click)="$event.stopPropagation()">
                        <img src="../../../assets/Icon-3.png" class="icon small" />
                        <input type="text" [(ngModel)]="searchText" placeholder="Search products"
                            (keydown.enter)="GotoSearch(); $event.preventDefault(); $event.stopPropagation()" />
                        <img src="../../../assets/cancel.png" class="icon small close-icon"
                            (click)="closeSearch(); $event.stopPropagation()" width="10" />
                    </div>

                    <div class="search-dropdown" *ngIf="displaylist">
                        <div *ngIf="AllSearchItems.length > 0">
                            <div class="panel-header">
                                <span style="padding: 10px;">Products</span>
                            </div>

                            <div class="search-results" *ngFor="let n of AllSearchItems">
                                <div class="image-wrap">
                                    <img *ngIf="n.productImagesList?.length" [src]="baseUrl + n.productImagesList[0]"
                                        alt="product" (click)="ProductView(n)" />
                                </div>
                                <div class="title" (click)="ProductView(n)">{{ n.productName }}</div>
                            </div>
                        </div>

                        <div *ngIf="AllSearchItems.length === 0">
                            <div class="search-results">
                                <div class="title">No results</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cart -->
                <button class="icon-btn" (click)="cartpage($event)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span class="cart-badge" *ngIf="cartCount > 0">{{ cartCount }}</span>
                </button>
            </div>
        </div>
    </header>

    <!-- MOBILE MENU OVERLAY -->
    <div class="mobile-overlay" *ngIf="showMobileMenu" (click)="closeMobileMenu()"></div>

    <!-- MOBILE DRAWER (LEFT) -->
    <div class="mobile-drawer" [class.open]="showMobileMenu">
        <div class="drawer-header">
            <span class="drawer-title">Menu</span>
            <button class="drawer-close" (click)="closeMobileMenu()">✕</button>
        </div>

        <a class="drawer-link" routerLink="/home" (click)="setActive('home'); closeMobileMenu()">Home</a>
        <a class="drawer-link" (click)="navigatetoabout(); closeMobileMenu()">About</a>

        <div class="drawer-link" (click)="toggleMobileProducts()">
            Products
            <span class="dropdown-arrow" [class.rotated]="showMobileProducts">▼</span>
        </div>

        <div class="drawer-submenu" *ngIf="showMobileProducts">
            <a *ngFor="let category of productCategories" class="drawer-sublink"
                (click)="navigateToCategory(category); closeMobileMenu()">
                {{ category.name }}
            </a>
        </div>

        <a class="drawer-link" (click)="navigatetocontact(); closeMobileMenu()">Contact Us</a>

        <a class="drawer-link" *ngIf="isLoggeIn" (click)="navigateorders(); closeMobileMenu()">My Orders</a>
    </div>

    <!-- About Section -->
    <section class="about-section" id="contact">
        <div class="contact-wrapper">
            <!-- LEFT IMAGE -->
            <div class="contact-image">
                <img src="../../../assets/78.png" alt="Contact Image" />
            </div>

            <!-- RIGHT FORM -->
            <div class="contact-form">
                <h1>Get in Touch</h1>

                <div class="contact-info">
                    <p>Office Address:71-75 Shelton Street, Covent Garden,<br />
                        London, United Kingdom, WC2H 9JQ <br />
                        Tel : +44 7982376506 <br />
                        Email : enquiry@maitreyatraderslimited.co.uk
                    </p>

                </div>

                <form (ngSubmit)="sendEmail(contactForm)" #contactForm="ngForm" novalidate>
                    <div class="form-group">
                        <input type="text" name="name" [(ngModel)]="form.name" placeholder="Name" required
                            maxlength="70" #name="ngModel" />
                        <small class="error"
                            *ngIf="name.invalid && ((name.touched && name.value?.trim() === '') || name.dirty || contactForm.submitted)">
                            Please enter your name
                        </small>


                        <!-- <small class="error" *ngIf="name.invalid && (name.touched || contactForm.submitted)">
                            Please enter your name
                        </small> -->
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" [(ngModel)]="form.email" placeholder="Email" required
                            maxlength="100" email #email="ngModel" />
                        <!-- <small class="error" *ngIf="email.invalid && (email.touched || contactForm.submitted)">
                            Please enter a valid email address
                        </small> -->
                        <small class="error"
                            *ngIf="email.invalid && ((email.touched && email.value?.trim() === '') || email.dirty || contactForm.submitted)">
                            Please enter a valid email address
                        </small>

                    </div>

                    <div class="form-group">
                        <input type="text" name="phone" [(ngModel)]="form.phone" placeholder="Phone" required
                            (keypress)="numericOnly($event)" pattern="^[0-9]{11}$" maxlength="11" inputmode="numeric"
                            #phone="ngModel" />
                        <!-- <small class="error" *ngIf="phone.invalid && (phone.touched || contactForm.submitted)">
                            Phone enter valid phone number
                        </small> -->
                        <small class="error"
                            *ngIf="phone.invalid && ((phone.touched && phone.value?.trim() === '') || phone.dirty || contactForm.submitted)">
                            Phone number must be exactly 11 digits
                        </small>

                    </div>
                    <div class="form-group">
                        <input type="text" name="subject" [(ngModel)]="form.subject" placeholder="Subject"
                            maxlength="70" required #subject="ngModel" />
                        <small class="error"
                            *ngIf="subject.invalid && ((subject.touched && subject.value?.trim() === '') || subject.dirty || contactForm.submitted)">
                            Please enter your subject
                        </small>

                        <!-- <small class="error" *ngIf="subject.invalid && (subject.touched || contactForm.submitted)">
                            Please enter your Subject
                        </small> -->
                    </div>
                    <div class="form-group"><textarea name="message" [(ngModel)]="form.message"
                            placeholder="Type your message here" maxlength="300" required #message="ngModel"></textarea>
                        <!-- <small class="error" *ngIf="message.invalid && (message.touched || contactForm.submitted)">
                            Message is required
                        </small> -->
                        <small class="error"
                            *ngIf="message.invalid && ((message.touched && message.value?.trim() === '') || message.dirty || contactForm.submitted)">
                            Message is required
                        </small>

                    </div>
                    <button type="submit" [disabled]="loading || contactForm.invalid" style="padding-top: 10px;">
                        {{ loading ? 'Sending...' : 'Submit' }}
                    </button>

                </form>

            </div>
        </div>

        <!-- </div> -->
    </section>


    <footer class="footer">
        <!-- Footer Top -->
        <div class="row">
            <div class="col-md-4 footer-section logo-section">
                <div class="flogo  animate-up delay-4" #animate>
                    <img [src]="logoPath" alt="Logo" class="logo-icon">
                </div>
                <!-- <p class="description animate-up delay-1" #animate>{{ companyDescription }}</p> -->
            </div>
            <div class="col-md-2  footer-section">
                <h3 class="section-title2 animate-up delay-4" #animate>Quick Links</h3>
                <ul class="links-list animate-up delay-1" #animate>
                    <li *ngFor="let link of quickLinks">
                        <a [routerLink]="link.route" (click)="scrollToSection(link.sectionId)">
                            {{ link.label }}
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Contact -->
            <div class="col-md-4 footer-section">
                <h3 class="section-title2 animate-up delay-4" #animate>Contact Us</h3>
                <div class="contact-info animate-up delay-1" #animate>
                    <p><strong>Address : </strong> {{ contactInfo.khNo }}<br />
                        {{ contactInfo.address }}
                    </p>

                    <p><strong>Tel :</strong>&nbsp; {{ contactInfo.phone }}</p>
                    <p><strong>Email :</strong>
                        <a [href]="'mailto:' + contactInfo.email">&nbsp;{{ contactInfo.email }}</a>
                    </p>
                </div>
            </div>

            <!-- Social -->
            <div class="col-md-2  footer-section">
                <h3 class="section-title2 animate-up delay-4" #animate>Follow Us</h3>
                <div class="social-icons animate-up delay-1" #animate>
                    <a *ngFor="let social of socialLinks" [href]="social.url" target="_blank">
                        <img [src]="social.icon" class="social-icon">
                    </a>
                </div>
            </div>

        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <p class="copyright">{{ copyrightText }}</p>
            <div class="footer-links">
                <a [routerLink]="['/terms', 'terms']">Terms & Conditions</a>
                <a [routerLink]="['/terms', 'privacy']">Privacy Policy</a>
                <a [routerLink]="['/terms', 'refund']">Refund & Returns Policy</a>
                <a [routerLink]="['/terms', 'shipping']">Shipping & Delivery Policy</a>
                <a [routerLink]="['/terms', 'cookie']">Cookie Policy</a>
                <a [routerLink]="['/terms', 'disclaimer']">Disclaimer Policy</a>
            </div>
        </div>
    </footer>


</div>