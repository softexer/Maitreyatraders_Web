<div class="website-container">
    <!-- Top Info Bar -->
    <div class="top-bar">
        <div class="top-bar-content">
            <span>Minimum order £35</span>
            <span class="separator">|</span>
            <span>Free Delivery for order over £80.</span>
            <span class="separator">|</span>
            <span>£2.99 surcharge for frozen products packing.</span>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <!-- Logo -->
            <div class="logo">
                <img src="../../../assets/logo.png" alt="Maitreya Traders Limited" class="logo-image" width="250">
            </div>

            <!-- Navigation -->
            <nav class="nav">
                <a href="#" class="nav-item" [class.active]="activeSection === 'home'"
                    (click)="setActive('home')">Home</a>

                <a href="javascript:void(0)" class="nav-item" [class.active]="activeSection === 'about'"
                    (click)="setActive('about'); scrollToSection('about')">
                    About
                </a>

                <!-- (mouseenter)="showDropdown()" (mouseleave)="hideDropdown()" -->
                <div class="nav-item-wrapper">
                    <a href="#" class="nav-item" [class.active]="activeSection === 'products'"
                        (click)="toggleProductsDropdown($event)">
                        Products <span class="dropdown-arrow" [class.rotated]="showProductsDropdown">▼</span>
                    </a>
                </div>

                <div style="position: absolute; color : red;top:100%; left:50%; border: 1px solid #333;
                    border-radius: 8px; background-color: #1a1a1a;  border: 1px solid #333;  border-radius: 8px; min-width: 250px;"
                    *ngIf="showProductsDropdown">
                    <a *ngFor="let category of productCategories" class="dropdown-item"
                        (click)="navigateToCategory(category); scrollToSection('products')"
                        [class.active]="selectedCategoryId === category.id" (click)="selectCategory(category.id)">
                        {{ category.name }}
                    </a>

                </div>
                <a href="#" class="nav-item" [class.active]="activeSection === 'recipes'"
                    (click)="setActive('recipes')">Recipes</a>
                <a href="#" class="nav-item" [class.active]="activeSection === 'blog'"
                    (click)="setActive('blog')">Blog</a>
                <a href="#" class="nav-item" [class.active]="activeSection === 'contact'"
                    (click)="setActive('contact')">Contact Us</a>
            </nav>

            <!-- Header Actions -->
            <div class="header-actions">
                <!-- <button class="icon-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button> -->
                <button class="icon-btn" (click)="cartpage($event)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span class="cart-badge" *ngIf="cartCount > 0">{{ cartCount }}</span>
                </button>
            </div>
        </div>
    </header>

    <section class="pc-section" *ngIf="!IsProductView" id="products">
        <div class="section-container">
            <h2 class="section-title">
                <span class="title-new">{{ titleFirstPart }}</span>
                &nbsp;
                <span class="title-launched">{{ titleSecondPart }}</span>
            </h2>

            <div class="row">
                <!-- *ngIf="newLaunchedProducts.length>0" -->
                <div class="col-md-2 col-sm-6 col-12 mobileapps scrollable-content"
                    style="height: 500px; overflow-y: auto;" *ngIf="Subcategories.length>0">
                    <div class="category-sidebar">
                        <div class="category-list">
                            <button *ngFor="let category of Subcategories"
                                [class.active]="selectedSubCategoryId === category.id"
                                (click)="selectSubCategory(category.id)" class="category-button">
                                {{ category.name }}
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-md-10 col-sm-6 col-12">
                    <section class="new-launched-section">
                        <div class="section-container">
                            <div class="products-grid">
                                <div class="product-card" *ngFor="let product of newLaunchedProducts">
                                    <div class="discount-badge">{{ product.discount }}%</div>
                                    <div class="product-image-wrapper">
                                        <img [src]="product.image" [alt]="product.name" class="product-card-image"
                                            (click)="ViewToProductDetails(product)">
                                    </div>
                                    <div class="product-details">
                                        <h3 class="product-title">{{ product.name }}</h3>
                                        <p class="product-subtitle">{{ product.subtitle }}</p>

                                        <div class="product-pricing">
                                            <div class="price-group">
                                                <span class="price-symbol">£</span>
                                                <span class="price-original">{{ product.originalPrice }}</span>
                                            </div>

                                            <!-- <select class="weight-selector" [(ngModel)]="product.selectedWeight">
                                                <option *ngFor="let weight of product.weights" [value]="weight">
                                                    {{ weight }}
                                                </option>
                                            </select> -->
                                            <select class="weight-selector" [(ngModel)]="product.selectedWeight"
                                                (change)="onWeightChange(product)">
                                                <option *ngFor="let weight of product.weights" [ngValue]="weight">
                                                    {{ weight.weightNumber }} {{ weight.weightUnit }}
                                                </option>
                                            </select>
                                        </div>


                                        <!-- <button class="add-to-cart-btn" (click)="addToCart(product)">Add to
                                            Cart</button> -->
                                        <button *ngIf="!isInCart(product)" class="add-to-cart-btn"
                                            (click)="addToCart(product)">
                                            Add to Cart
                                        </button>
                                        <div *ngIf="isInCart(product)" class="quantity-controls">
                                            <button (click)="decrementQuantity(getCartItem(product))"
                                                [disabled]="getCartItem(product)?.locqunatity <= 1">-</button>
                                            <span>{{ getCartItem(product)?.locqunatity }}</span>
                                            <button (click)="incrementQuantity(getCartItem(product))">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>

    </section>


    <section class="pc-section" *ngIf="IsProductView">
        <div class="product-detail-container">
            <!-- Left Side - Image Gallery -->
            <div class="image-gallery">
                <!-- Main Product Image -->
                <div class="main-image-container">
                    <img [src]="selectedImage" alt="Product Preview" class="main-image">
                </div>

                <!-- Thumbnail Images -->
                <div class="thumbnail-container">
                    <!-- <div *ngFor="let img of selectedProduct.productImagesList; let i = index" class="thumbnail-wrapper"
                        [class.active]="selectedImage === image" (click)="selectImage(image)">
                        <img [src]="image" [alt]="'Product view ' + (i + 1)" class="thumbnail-image">
                    </div> -->
                    <div *ngFor="let image of selectedProduct.productImagesList; let i = index"
                        [class.active]="selectedImage === image" (click)="selectedImage = image">

                        <img [src]="image" [alt]="'Product view ' + (i + 1)" class="thumbnail-image">
                         <!-- <img [src]="image" [alt]="'Product view ' + (i + 1)"  class="offer-product-image" /> -->
                    </div>

                </div>
            </div>

            <!-- Right Side - Product Information -->
            <div class="product-info2">
                <!-- Product Title and Price -->
                <h1 class="product-title2">{{ selectedProduct.name }}</h1>
                <div class="price-container2">
                    <span class="original-price2">{{ selectedProduct.originalPrice }}</span>
                    <span class="current-price2">{{ selectedProduct.price }}</span>
                </div>

                <!-- Weight Selector -->
                <!-- <select class="weight-selector" [(ngModel)]="selectedProduct.selectedWeight">

                    <option *ngFor="let w of selectedProduct.weights" [value]="w"
                        (click)="selectedProduct.selectedWeight = w">
                        {{ w }}
                    </option>

                </select> -->
                <select class="weight-selector" [(ngModel)]="selectedProduct.selectedWeight" (change)="onWeightChange(selectedProduct)">
                    <option *ngFor="let weight of selectedProduct.weights" [ngValue]="weight">
                        {{ weight.weightNumber }} {{ weight.weightUnit }}
                    </option>
                </select>


                <!-- Add to Cart Button -->
                <button class="add-to-cart-btn2" (click)="addToCart2(selectedProduct)">Add to Cart</button>


                <!-- Product Highlight Section -->
                <div class="product-highlight">
                    <h2 class="highlight-title">Product Highlight</h2>
                    <ul class="highlight-list">
                        <!-- <li *ngFor="let highlight of productHighlights">{{ highlight }}</li> -->
                        <li *ngFor="let highlight of selectedProduct.highlights">
                            {{ highlight }}
                        </li>

                    </ul>
                </div>

                <!-- Special Offer Section -->
                <div class="offer-section">
                    <!-- *ngIf="selectedProduct.selectedWeight === '450 g' || selectedProduct.selectedWeight === '500 g'" -->
                    <div class="offer-content">
                        <p class="offer-text">
                            {{ offerText }}
                        </p>
                        <div class="offer-bottom-row">
                            <img [src]="offerProductImage" alt="Offer Product" class="offer-product-image" />
                            <button class="navigate-btn" (click)="navigateToProducts()">
                                <img src="../../../assets/plusimg.png" alt="Add" class="plus-img" />
                            </button>
                        </div>
                    </div>
                </div>


                <!-- <div class="offer-section" *ngIf="selectedWeight === '450 g' || selectedWeight === '500 g'">
                    <div class="offer-content">
                        <p class="offer-text">
                            {{ offerText }}
                        </p>
                        <div class="offer-bottom-row">
                            <img [src]="offerProductImage" alt="Offer Product" class="offer-product-image" />
                            <button class="navigate-btn" (click)="navigateToProducts()">
                                <img src="../../../assets/plusimg.png" alt="Add" class="plus-img" />
                            </button>
                        </div>
                    </div>
                </div> -->


                <!-- Brand Logos -->
                <div class="brand-logos">
                    <img *ngFor="let logo of brandLogos" [src]="logo.src" [alt]="logo.alt" class="brand-logo">
                </div>

                <!-- Product Description -->

            </div>
        </div>

        <div class="product-description">
            <h2 class="description-title">Product Description</h2>
            <!-- <p *ngFor="let paragraph of productDescription" class="description-text">
                {{ paragraph }}
            </p> -->
            <p *ngFor="let paragraph of selectedProduct.description" class="description-text">
                {{ paragraph }}
            </p>

        </div>

    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="section-container">
            <div class="about-content">
                <div class="about-image-wrapper">
                    <!-- <div class="about-image-circle"></div> -->
                    <img src="../../../assets/about us.png" alt="Plant Based Products" class="about-product-image">
                </div>

                <div class="about-text">
                    <h2 class="about-title">About</h2>
                    <p class="about-description">
                        At Maitreya Traders, we believe in combining health, taste, and tradition. Our mission is to
                        make plant-based eating exciting and accessible by offering premium-quality vegan and vegetarian
                        frozen food sourced from around the world. We are committed to bringing only authentic,
                        flavourful, and thoughtfully crafted products that align with your lifestyle.
                    </p>
                    <button class="read-more-btn">Read More</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Testimonials Section -->
    <section class="testimonials-section">
        <div class="section-container">
            <div class="testimonials-content">
                <!-- Left Side: Chef Image and Reviewers -->
                <div class="testimonials-left">
                    <div class="chef-display">
                        <img src="../../../assets/image_3.png" alt="Chef" class="chef-image">

                        <!-- Our Reviewers Badge -->
                        <div class="reviewers-badge">
                            <span class="badge-label">Our Reviewers</span>
                            <div class="customer-avatars">
                                <img *ngFor="let avatar of reviewerAvatars" [src]="avatar" alt="Customer"
                                    class="avatar">
                                <div class="reviewer-count">12k+</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Side: Testimonials Carousel -->
                <div class="testimonials-right">
                    <div class="testimonial-header">WHAT THEY SAY</div>
                    <h2 class="testimonial-title">
                        What Our Customers <span class="title-gold">Say About Us</span>
                    </h2>

                    <div class="testimonials-carousel-wrapper">
                        <button class="testimonial-nav-btn left" (click)="prevTestimonial()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" [disabled]="currentTestimonial === 0"
                                [class.disabled]="currentTestimonial === 0">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>


                        <div class="testimonial-slide">
                            <p class="testimonial-text">{{ testimonials[currentTestimonial].text }}</p>

                            <div class="testimonial-author">
                                <img [src]="testimonials[currentTestimonial].avatar" alt="Author" class="author-avatar">
                                <div class="author-info">
                                    <div class="author-name">{{ testimonials[currentTestimonial].name }}</div>
                                    <div class="author-role">{{ testimonials[currentTestimonial].role }}</div>
                                </div>
                            </div>

                            <div class="testimonial-rating">
                                <span *ngFor="let star of [1,2,3,4,5]" class="rating-star"
                                    [class.filled]="star <= testimonials[currentTestimonial].rating"
                                    [class.half]="star === Math.ceil(testimonials[currentTestimonial].rating) && testimonials[currentTestimonial].rating % 1 !== 0">
                                    ★
                                </span>
                                <span class="rating-value">{{ testimonials[currentTestimonial].rating }}</span>
                            </div>
                        </div>

                        <button class="testimonial-nav-btn right" (click)="nextTestimonial()"
                            [disabled]="currentTestimonial === testimonials.length - 1"
                            [class.disabled]="currentTestimonial === testimonials.length - 1">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="newsletter-section">
        <div class="container">
            <h2 class="newsletter-title">
                Get Exclusive <span>Deals</span> in your Inbox
            </h2>

            <div class="newsletter-form">
                <input type="email" placeholder="youremail@gmail.com" class="newsletter-input" 
                [(ngModel)]="newsletterEmail"/>
                <button class="newsletter-btn" (click)="sendEmail()">Subscribe</button>
            </div>
        </div>
    </section>


    <footer class="footer">
        <!-- <div class="container"> -->

        <!-- Footer Top -->
        <div class="row">

            <!-- Logo -->
            <div class="col-md-4 footer-section logo-section">
                <div class="logo">
                    <img [src]="logoPath" alt="Logo" class="logo-icon">
                </div>
                <p class="description">{{ companyDescription }}</p>
            </div>

            <!-- Quick Links -->
            <div class="col-md-2  footer-section">
                <h3 class="section-title2">Quick Links</h3>
                <ul class="links-list">
                    <li *ngFor="let link of quickLinks">
                        <a href="javascript:void(0)" (click)="scrollToSection(link.sectionId)">
                            {{ link.label }}
                        </a>
                    </li>
                </ul>
                <!-- <div class="footer-inner">
                    <h3 class="section-title">Quick Links</h3>
                    <ul class="links-list">
                        <li *ngFor="let link of quickLinks">
                            <a href="javascript:void(0)" (click)="scrollToSection(link.sectionId)">
                                {{ link.label }}
                            </a>
                        </li>
                    </ul>
                </div> -->
            </div>

            <!-- Contact -->
            <div class="col-md-4 footer-section">
                <h3 class="section-title2">Contact Us</h3>
                <div class="contact-info">
                    <p><strong>KH No:</strong> {{ contactInfo.khNo }}<br />
                        {{ contactInfo.address }}
                    </p>

                    <!-- <p>{{ contactInfo.address }}</p> -->
                    <p><strong>Tel:</strong> {{ contactInfo.phone }}</p>
                    <p><strong>Email:</strong>
                        <a [href]="'mailto:' + contactInfo.email">{{ contactInfo.email }}</a>
                    </p>
                </div>
            </div>

            <!-- Social -->
            <div class="col-md-2  footer-section">
                <h3 class="section-title2">Follow Us</h3>
                <div class="social-icons">
                    <a *ngFor="let social of socialLinks" [href]="social.url" target="_blank">
                        <img [src]="social.icon" class="social-icon">
                    </a>
                </div>
            </div>

        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom d-flex justify-content-between align-items-center">
            <p class="copyright">{{ copyrightText }}</p>
            <div class="footer-links">
                <a href="/privacy-policy">Privacy Policy</a>
                <a href="/terms">Terms</a>
            </div>
            <div></div>
        </div>

        <!-- </div> -->
    </footer>


</div>